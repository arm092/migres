mysql:
  host: host.docker.internal
  port: 3306
  user: repluser
  password: password
  database: source_db
  include_tables: [
    "users",
    "orders",
    "transactions",
  ]  # empty = all
  exclude_tables: []

clickhouse:
  host: 127.0.0.1
  port: 9000
  user: chuser
  password: "root"
  database: target_db

migration:
  batch_rows: 5000
  ddl_engine: "ReplacingMergeTree"
  low_cardinality_strings: true
  workers: 4   # number of parallel table workers (default 4)
  # Timezone configuration for datetime/timestamp columns
  mysql_timezone: "Europe/Moscow"  # Set to your MySQL server timezone
  clickhouse_timezone: "Europe/Moscow"  # Set to desired ClickHouse timezone
  cdc:
    heartbeat_seconds: 5
    checkpoint_interval_rows: 1000
    checkpoint_interval_seconds: 5
    batch_delay_seconds: 5  # Delay in seconds before processing accumulated events (0 = immediate processing)

# Where migres writes binlog checkpoint for Transferia
checkpoint_file: /app/data/binlog_checkpoint.json

# Where migres persists its resumable state
state_file: /app/data/state.json

# MS Teams Notifications
notifications:
  enabled: true
  webhook_url: "https://your-org.webhook.office.com/webhookb2/your-webhook-url"
  rate_limit_seconds: 60  # Minimum seconds between notifications (0 = no limit)
  # Notification levels: info, warning, error, critical
  # Rate limiting is per notification type (cdc_error, cdc_warning, cdc_info, etc.)
